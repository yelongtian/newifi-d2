<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_flashing_title">Update in progress</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/main.js"></script>
    <script>
        function init() {
            getversion();

            ajax({
                url: '/result',
                done: function (response) {
                    if (response == 'failed') {
                        location = '/fail.html'
                        return
                    }

                    var tr = (window.fsdata && window.fsdata.t) ? window.fsdata.t : function (k) { return k };
                    document.getElementById('title').textContent = tr('h_update_completed')
                    document.getElementById('info').innerHTML = tr('p_update_completed')
                },
                timeout: 1800000
            })
        }
    </script>
</head>

<body onload="init()">
    <div id="m">
        <h1 id="title" data-i18n="h_update_in_progress">UPDATE IN PROGRESS</h1>
        <p id="info" data-i18n-html="p_update_in_progress">
            Your file was successfully uploaded! Update is in progress and you should wait for automatic reset of the
            device.<br>
            Update time depends on image size and may take up to a few minutes.
        </p>
        <div id="l"></div>
    </div>
    <div id="version"></div>
</body>

</html>